<?php
session_start();
require_once('../app/core/Debugging.php'); // (De)activate debugging by (de)commenting the line.

/* ************************************************** *\
    Connects to mysql then create and select the DB
\* ************************************************** */

require('database.php');
$DB = new PDO($DB_DSN, $DB_USER, $DB_PASSWORD);
$DB->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$DB->exec('CREATE DATABASE IF NOT EXISTS '.$DB_NAME);
$DB->exec('USE '.$DB_NAME);

/* ************************************************** *\
    Creates the tables' structures and fills them
\* ************************************************** */

/* ------------------- USERS ------------------- */

$DB->exec("CREATE TABLE IF NOT EXISTS `users`
          (`id_user` int(11) NOT NULL AUTO_INCREMENT,
           `email` varchar(255) NOT NULL,
           `email_confirmed` varchar(255) NOT NULL,
           `username` varchar(255) NOT NULL,
           `first_name` varchar(255) NOT NULL,
           `last_name` varchar(255) NOT NULL,
           `date_of_birth` date DEFAULT NULL,
           `password` varchar(255) NOT NULL,
           `last_activity` datetime NOT NULL,
           `location` varchar(255) DEFAULT NULL,
           `gender_self` varchar(1) DEFAULT NULL,
           `gender_seeked` varchar(1) DEFAULT NULL,
           `popularity_score` int(11) NOT NULL DEFAULT '0',
           `bio` varchar(255) NOT NULL,
           PRIMARY KEY (`id_user`)
         ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;");

//$DB->exec("");

/* ------------------- USERS_VISITS ------------------- */

$DB->exec("CREATE TABLE IF NOT EXISTS `users_visits`
          (`id_user_visitor` int(11) NOT NULL,
           `id_user_visited` int(11) NOT NULL,
           `last_visit` datetime NOT NULL,
           PRIMARY KEY (`id_user_visitor`, `id_user_visited`),
           CONSTRAINT `FK_users_visits_id_user_visitor` FOREIGN KEY (`id_user_visitor`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE,
           CONSTRAINT `FK_users_visits_id_user_visited` FOREIGN KEY (`id_user_visited`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE
         ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;");

//$DB->exec("");

/* ------------------- USERS_LIKES ------------------- */

$DB->exec("CREATE TABLE IF NOT EXISTS `users_likes`
          (`id_user_liker` int(11) NOT NULL,
           `id_user_liked` int(11) NOT NULL,
           PRIMARY KEY (`id_user_liker`, `id_user_liked`),
           CONSTRAINT `FK_users_visits_id_user_liker` FOREIGN KEY (`id_user_liker`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE,
           CONSTRAINT `FK_users_visits_id_user_liked` FOREIGN KEY (`id_user_liked`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE
          ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;");

/*$DB->exec("INSERT INTO `users_likes`
          (`id_user_liker`, `id_user_liked`)
          VALUES
          (215, 1),
          (363, 1),
          (336, 4),
          (493, 4),
          (516, 5),
          (254, 7),
          (16, 8),
          (416, 8),
          (284, 9),
          (490, 10),
          (400, 14),
          (74, 17),
          (182, 18),
          (391, 19),
          (316, 21),
          (335, 22),
          (25, 23),
          (440, 23),
          (327, 26),
          (142, 29),
          (391, 29),
          (258, 30),
          (435, 30),
          (509, 31),
          (340, 34),
          (458, 34),
          (311, 35),
          (472, 35),
          (199, 36),
          (476, 36),
          (234, 38),
          (314, 38),
          (79, 40),
          (235, 40),
          (202, 41),
          (105, 43),
          (490, 43),
          (277, 44),
          (38, 45),
          (62, 46),
          (481, 49),
          (491, 51),
          (536, 51),
          (510, 53),
          (172, 54),
          (261, 55),
          (323, 58),
          (268, 59),
          (147, 60),
          (243, 60),
          (356, 62),
          (392, 62),
          (422, 64),
          (123, 65),
          (118, 67),
          (298, 67),
          (126, 68),
          (301, 69),
          (539, 69),
          (424, 71),
          (407, 72),
          (482, 73),
          (523, 73),
          (349, 75),
          (269, 76),
          (137, 80),
          (258, 80),
          (101, 82),
          (17, 83),
          (370, 83),
          (425, 83),
          (197, 84),
          (325, 86),
          (280, 87),
          (209, 88),
          (483, 89),
          (115, 91),
          (138, 92),
          (276, 97),
          (343, 97),
          (182, 98),
          (429, 99),
          (191, 100),
          (243, 100),
          (472, 100),
          (216, 101),
          (281, 101),
          (212, 104),
          (218, 108),
          (373, 109),
          (6, 110),
          (44, 110),
          (308, 111),
          (436, 112),
          (202, 114),
          (350, 114),
          (276, 116),
          (210, 117),
          (508, 119),
          (44, 124),
          (79, 125),
          (127, 128),
          (546, 128),
          (517, 129),
          (235, 131),
          (521, 131),
          (471, 133),
          (182, 134),
          (2, 144),
          (344, 146),
          (216, 147),
          (213, 148),
          (365, 148),
          (156, 149),
          (253, 149),
          (478, 149),
          (35, 150),
          (293, 150),
          (542, 150),
          (177, 151),
          (544, 154),
          (512, 155),
          (457, 158),
          (484, 158),
          (330, 159),
          (287, 160),
          (188, 162),
          (403, 163),
          (446, 164),
          (359, 165),
          (148, 169),
          (453, 171),
          (467, 171),
          (333, 172),
          (336, 172),
          (163, 173),
          (365, 173),
          (240, 176),
          (502, 176),
          (282, 179),
          (514, 180),
          (463, 181),
          (494, 182),
          (380, 183),
          (519, 184),
          (126, 185),
          (525, 185),
          (84, 187),
          (318, 187),
          (472, 188),
          (351, 190),
          (180, 191),
          (386, 191),
          (332, 193),
          (416, 193),
          (425, 193),
          (87, 194),
          (260, 194),
          (446, 194),
          (278, 196),
          (340, 196),
          (354, 196),
          (305, 197),
          (11, 198),
          (89, 201),
          (105, 202),
          (479, 202),
          (165, 203),
          (229, 205),
          (507, 206),
          (125, 209),
          (308, 210),
          (474, 212),
          (504, 219),
          (214, 220),
          (150, 221),
          (122, 222),
          (149, 222),
          (134, 223),
          (466, 223),
          (84, 227),
          (85, 227),
          (217, 229),
          (511, 230),
          (308, 234),
          (415, 234),
          (93, 236),
          (547, 236),
          (231, 237),
          (20, 238),
          (174, 238),
          (357, 242),
          (438, 242),
          (221, 246),
          (50, 248),
          (417, 248),
          (353, 250),
          (521, 251),
          (544, 253),
          (380, 256),
          (427, 256),
          (285, 258),
          (183, 260),
          (351, 265),
          (352, 265),
          (437, 265),
          (549, 265),
          (408, 266),
          (24, 267),
          (127, 267),
          (356, 267),
          (357, 267),
          (418, 267),
          (389, 268),
          (91, 272),
          (200, 273),
          (28, 276),
          (103, 277),
          (38, 281),
          (30, 282),
          (63, 284),
          (323, 286),
          (18, 287),
          (386, 287),
          (70, 288),
          (115, 288),
          (201, 289),
          (511, 289),
          (110, 290),
          (430, 291),
          (123, 292),
          (87, 293),
          (295, 294),
          (462, 295),
          (426, 296),
          (465, 296),
          (186, 298),
          (325, 298),
          (241, 299),
          (348, 299),
          (524, 299),
          (138, 300),
          (167, 302),
          (89, 304),
          (392, 304),
          (207, 305),
          (462, 305),
          (344, 306),
          (45, 307),
          (472, 308),
          (69, 309),
          (189, 309),
          (194, 309),
          (292, 309),
          (494, 309),
          (158, 310),
          (467, 310),
          (158, 313),
          (243, 313),
          (218, 317),
          (301, 317),
          (32, 318),
          (207, 319),
          (61, 320),
          (549, 320),
          (109, 321),
          (518, 322),
          (178, 325),
          (225, 325),
          (379, 326),
          (359, 327),
          (275, 330),
          (226, 331),
          (345, 331),
          (414, 333),
          (448, 334),
          (474, 334),
          (338, 335),
          (534, 336),
          (16, 337),
          (107, 340),
          (258, 344),
          (313, 344),
          (112, 349),
          (327, 349),
          (343, 349),
          (86, 351),
          (166, 354),
          (120, 355),
          (292, 358),
          (300, 358),
          (328, 358),
          (443, 358),
          (96, 359),
          (280, 360),
          (164, 361),
          (297, 361),
          (379, 361),
          (416, 361),
          (117, 362),
          (118, 362),
          (495, 363),
          (190, 364),
          (109, 367),
          (292, 368),
          (291, 369),
          (331, 369),
          (521, 369),
          (80, 370),
          (172, 373),
          (185, 376),
          (393, 377),
          (173, 379),
          (25, 380),
          (167, 381),
          (411, 382),
          (90, 383),
          (264, 383),
          (2, 384),
          (241, 384),
          (421, 385),
          (63, 389),
          (418, 391),
          (379, 392),
          (211, 393),
          (383, 393),
          (429, 393),
          (436, 393),
          (325, 394),
          (465, 395),
          (17, 396),
          (238, 396),
          (102, 398),
          (327, 398),
          (66, 400),
          (13, 403),
          (246, 405),
          (548, 405),
          (415, 406),
          (506, 407),
          (90, 409),
          (51, 410),
          (151, 410),
          (196, 411),
          (479, 411),
          (30, 412),
          (192, 412),
          (466, 412),
          (425, 413),
          (104, 416),
          (249, 416),
          (61, 418),
          (312, 419),
          (8, 420),
          (467, 423),
          (476, 423),
          (304, 427),
          (318, 427),
          (404, 427),
          (69, 429),
          (133, 432),
          (158, 432),
          (249, 433),
          (491, 433),
          (519, 440),
          (281, 441),
          (15, 442),
          (155, 444),
          (548, 444),
          (85, 447),
          (217, 447),
          (313, 448),
          (429, 448),
          (391, 449),
          (231, 452),
          (293, 452),
          (78, 453),
          (530, 453),
          (61, 454),
          (117, 454),
          (337, 455),
          (398, 455),
          (256, 463),
          (271, 464),
          (224, 466),
          (109, 470),
          (45, 471),
          (136, 471),
          (217, 472),
          (34, 474),
          (439, 474),
          (369, 477),
          (191, 478),
          (198, 479),
          (263, 480),
          (489, 481),
          (212, 482),
          (502, 482),
          (56, 485),
          (316, 487),
          (533, 488),
          (400, 491),
          (171, 493),
          (275, 495),
          (164, 496),
          (441, 497),
          (507, 497),
          (423, 498),
          (244, 502),
          (178, 504),
          (133, 505),
          (409, 507),
          (204, 508),
          (241, 509),
          (420, 511),
          (285, 513),
          (187, 514),
          (532, 515),
          (39, 516),
          (41, 516),
          (9, 517),
          (226, 517),
          (403, 517),
          (51, 522),
          (97, 522),
          (489, 522),
          (399, 523),
          (526, 525),
          (290, 526),
          (248, 528),
          (488, 530),
          (436, 532),
          (507, 532),
          (340, 533),
          (155, 534),
          (357, 538),
          (514, 538),
          (325, 541),
          (462, 543),
          (412, 545),
          (519, 546),
          (90, 547),
          (304, 547),
          (387, 547),
          (259, 549),
          (403, 549),
          (136, 550);");*/

/* ------------------- USERS_BLOCKS ------------------- */

$DB->exec("CREATE TABLE IF NOT EXISTS `users_blocks`
          (`id_user_blocker` int(11) NOT NULL,
           `id_user_blocked` int(11) NOT NULL,
           PRIMARY KEY (`id_user_blocker`, `id_user_blocked`),
           CONSTRAINT `FK_users_visits_id_user_blocker` FOREIGN KEY (`id_user_blocker`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE,
           CONSTRAINT `FK_users_visits_id_user_blocked` FOREIGN KEY (`id_user_blocked`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE
          ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;");

/*$DB->exec("INSERT INTO `users_blocks`
          (`id_user_blocker`, `id_user_blocked`)
          VALUES
          (487, 14),
          (312, 124),
          (502, 161),
          (303, 351),
          (382, 466),
          (247, 477),
          (56, 522);");*/

/* ------------------- USERS_REPORTS ------------------- */

$DB->exec("CREATE TABLE IF NOT EXISTS `users_reports`
          (`id_user_reporter` int(11) NOT NULL,
           `id_user_reported` int(11) NOT NULL,
           PRIMARY KEY (`id_user_reporter`, `id_user_reported`),
           CONSTRAINT `FK_users_visits_id_user_reporter` FOREIGN KEY (`id_user_reporter`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE,
           CONSTRAINT `FK_users_visits_id_user_reported` FOREIGN KEY (`id_user_reported`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE
          ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;");

/*$DB->exec("INSERT INTO `users_reports`
          (`id_user_reporter`, `id_user_reported`)
          VALUES
          (165, 19),
          (76, 228),
          (440, 241),
          (248, 261),
          (200, 284),
          (473, 329),
          (197, 528);");*/

/* ------------------- INTERESTS ------------------- */

$DB->exec("CREATE TABLE IF NOT EXISTS `interests`
          (`id_interest` int(11) NOT NULL AUTO_INCREMENT,
           `interest` varchar(255) NOT NULL,
           PRIMARY KEY (`id_interest`)
          ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;");

$DB->exec("INSERT INTO `interests`
          (`id_interest`, `interest`)
          VALUES
          (1, 'Naps'),
          (2, 'Hunting'),
          (3, 'Gourmet food'),
          (4, 'Feathers'),
          (5, 'Strings'),
          (6, 'Grooming'),
          (7, 'Cuddles'),
          (8, 'Bird-watching'),
          (9, 'Chillaxing'),
          (10, 'Catnip'),
          (11, 'Cardboard boxes'),
          (12, 'Watching TV'),
          (13, 'Playtime'),
          (14, 'Climbing'),
          (15, 'Sunbathing'),
          (16, 'Wildlife'),
          (17, 'Hide-and-Seek'),
          (18, 'Prowling'),
          (19, 'Window-gazing'),
          (20, 'Running water'),
          (21, 'Nigthlife'),
          (22, 'Humans'),
          (23, 'Eating bugs'),
          (24, 'Socialising');");

/* ------------------- USERS_INTERESTS ------------------- */

$DB->exec("CREATE TABLE IF NOT EXISTS `users_interests`
          (`id_user` int(11) NOT NULL,
           `id_interest` int(11) NOT NULL,
           PRIMARY KEY (`id_user`, `id_interest`),
           CONSTRAINT `FK_users_interests_id_user` FOREIGN KEY (`id_user`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE,
           CONSTRAINT `FK_users_interests_id_interest` FOREIGN KEY (`id_interest`) REFERENCES `interests`(`id_interest`) ON DELETE CASCADE ON UPDATE CASCADE
          ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;");

/*$DB->exec("INSERT INTO `users_interests`
          (`id_user`, `id_interest`)
          VALUES
          (2, 1),
          (8, 1),
          (36, 1),
          (50, 1),
          (53, 1),
          (76, 1),
          (78, 1),
          (79, 1),
          (85, 1),
          (109, 1),
          (115, 1),
          (126, 1),
          (140, 1),
          (150, 1),
          (162, 1),
          (170, 1),
          (184, 1),
          (189, 1),
          (190, 1),
          (197, 1),
          (202, 1),
          (213, 1),
          (264, 1),
          (271, 1),
          (287, 1),
          (301, 1),
          (315, 1),
          (324, 1),
          (357, 1),
          (369, 1),
          (372, 1),
          (378, 1),
          (380, 1),
          (396, 1),
          (452, 1),
          (453, 1),
          (464, 1),
          (474, 1),
          (500, 1),
          (508, 1),
          (523, 1),
          (528, 1),
          (543, 1),
          (54, 2),
          (57, 2),
          (87, 2),
          (100, 2),
          (102, 2),
          (124, 2),
          (125, 2),
          (126, 2),
          (145, 2),
          (147, 2),
          (153, 2),
          (162, 2),
          (170, 2),
          (174, 2),
          (184, 2),
          (192, 2),
          (236, 2),
          (237, 2),
          (253, 2),
          (260, 2),
          (281, 2),
          (308, 2),
          (322, 2),
          (326, 2),
          (382, 2),
          (387, 2),
          (396, 2),
          (404, 2),
          (409, 2),
          (413, 2),
          (420, 2),
          (436, 2),
          (448, 2),
          (463, 2),
          (481, 2),
          (483, 2),
          (492, 2),
          (500, 2),
          (515, 2),
          (543, 2),
          (549, 2),
          (550, 2),
          (17, 3),
          (23, 3),
          (25, 3),
          (32, 3),
          (39, 3),
          (41, 3),
          (58, 3),
          (78, 3),
          (102, 3),
          (105, 3),
          (107, 3),
          (108, 3),
          (109, 3),
          (136, 3),
          (146, 3),
          (167, 3),
          (182, 3),
          (188, 3),
          (189, 3),
          (220, 3),
          (242, 3),
          (251, 3),
          (258, 3),
          (261, 3),
          (275, 3),
          (292, 3),
          (308, 3),
          (312, 3),
          (339, 3),
          (340, 3),
          (347, 3),
          (394, 3),
          (410, 3),
          (420, 3),
          (423, 3),
          (430, 3),
          (444, 3),
          (459, 3),
          (478, 3),
          (479, 3),
          (486, 3),
          (494, 3),
          (497, 3),
          (498, 3),
          (500, 3),
          (506, 3),
          (509, 3),
          (524, 3),
          (531, 3),
          (535, 3),
          (536, 3),
          (1, 4),
          (4, 4),
          (6, 4),
          (35, 4),
          (43, 4),
          (48, 4),
          (51, 4),
          (59, 4),
          (61, 4),
          (66, 4),
          (89, 4),
          (93, 4),
          (114, 4),
          (118, 4),
          (175, 4),
          (178, 4),
          (180, 4),
          (193, 4),
          (194, 4),
          (198, 4),
          (207, 4),
          (214, 4),
          (224, 4),
          (242, 4),
          (253, 4),
          (265, 4),
          (282, 4),
          (285, 4),
          (297, 4),
          (335, 4),
          (350, 4),
          (352, 4),
          (373, 4),
          (391, 4),
          (395, 4),
          (419, 4),
          (435, 4),
          (463, 4),
          (465, 4),
          (469, 4),
          (474, 4),
          (488, 4),
          (492, 4),
          (503, 4),
          (521, 4),
          (5, 5),
          (6, 5),
          (9, 5),
          (13, 5),
          (19, 5),
          (21, 5),
          (47, 5),
          (83, 5),
          (99, 5),
          (130, 5),
          (134, 5),
          (137, 5),
          (154, 5),
          (189, 5),
          (192, 5),
          (217, 5),
          (265, 5),
          (268, 5),
          (269, 5),
          (291, 5),
          (296, 5),
          (344, 5),
          (347, 5),
          (370, 5),
          (441, 5),
          (453, 5),
          (460, 5),
          (463, 5),
          (464, 5),
          (483, 5),
          (494, 5),
          (526, 5),
          (531, 5),
          (535, 5),
          (537, 5),
          (542, 5),
          (546, 5),
          (4, 6),
          (5, 6),
          (25, 6),
          (31, 6),
          (32, 6),
          (38, 6),
          (43, 6),
          (70, 6),
          (88, 6),
          (89, 6),
          (93, 6),
          (94, 6),
          (116, 6),
          (118, 6),
          (122, 6),
          (143, 6),
          (187, 6),
          (194, 6),
          (195, 6),
          (201, 6),
          (224, 6),
          (274, 6),
          (303, 6),
          (309, 6),
          (322, 6),
          (331, 6),
          (332, 6),
          (349, 6),
          (350, 6),
          (361, 6),
          (362, 6),
          (370, 6),
          (377, 6),
          (379, 6),
          (398, 6),
          (410, 6),
          (452, 6),
          (459, 6),
          (471, 6),
          (495, 6),
          (503, 6),
          (504, 6),
          (505, 6),
          (534, 6),
          (2, 7),
          (25, 7),
          (69, 7),
          (104, 7),
          (110, 7),
          (113, 7),
          (116, 7),
          (121, 7),
          (122, 7),
          (123, 7),
          (129, 7),
          (148, 7),
          (151, 7),
          (172, 7),
          (186, 7),
          (193, 7),
          (194, 7),
          (200, 7),
          (205, 7),
          (225, 7),
          (285, 7),
          (299, 7),
          (303, 7),
          (306, 7),
          (308, 7),
          (313, 7),
          (330, 7),
          (338, 7),
          (357, 7),
          (367, 7),
          (371, 7),
          (401, 7),
          (427, 7),
          (428, 7),
          (429, 7),
          (430, 7),
          (435, 7),
          (449, 7),
          (465, 7),
          (478, 7),
          (486, 7),
          (497, 7),
          (530, 7),
          (544, 7),
          (548, 7),
          (13, 8),
          (21, 8),
          (23, 8),
          (48, 8),
          (50, 8),
          (83, 8),
          (100, 8),
          (107, 8),
          (112, 8),
          (127, 8),
          (139, 8),
          (151, 8),
          (173, 8),
          (178, 8),
          (192, 8),
          (204, 8),
          (205, 8),
          (240, 8),
          (246, 8),
          (262, 8),
          (267, 8),
          (291, 8),
          (306, 8),
          (314, 8),
          (315, 8),
          (326, 8),
          (327, 8),
          (335, 8),
          (336, 8),
          (342, 8),
          (362, 8),
          (382, 8),
          (396, 8),
          (407, 8),
          (411, 8),
          (440, 8),
          (471, 8),
          (474, 8),
          (482, 8),
          (513, 8),
          (523, 8),
          (530, 8),
          (536, 8),
          (4, 9),
          (26, 9),
          (37, 9),
          (53, 9),
          (59, 9),
          (61, 9),
          (76, 9),
          (102, 9),
          (129, 9),
          (137, 9),
          (188, 9),
          (191, 9),
          (228, 9),
          (229, 9),
          (240, 9),
          (251, 9),
          (253, 9),
          (267, 9),
          (279, 9),
          (284, 9),
          (295, 9),
          (310, 9),
          (311, 9),
          (324, 9),
          (338, 9),
          (365, 9),
          (377, 9),
          (378, 9),
          (385, 9),
          (392, 9),
          (393, 9),
          (428, 9),
          (437, 9),
          (458, 9),
          (468, 9),
          (471, 9),
          (475, 9),
          (476, 9),
          (504, 9),
          (525, 9),
          (16, 10),
          (28, 10),
          (36, 10),
          (78, 10),
          (90, 10),
          (110, 10),
          (117, 10),
          (124, 10),
          (139, 10),
          (142, 10),
          (158, 10),
          (164, 10),
          (169, 10),
          (176, 10),
          (183, 10),
          (187, 10),
          (188, 10),
          (196, 10),
          (205, 10),
          (210, 10),
          (216, 10),
          (266, 10),
          (275, 10),
          (278, 10),
          (279, 10),
          (292, 10),
          (305, 10),
          (316, 10),
          (317, 10),
          (335, 10),
          (343, 10),
          (348, 10),
          (362, 10),
          (366, 10),
          (368, 10),
          (369, 10),
          (396, 10),
          (423, 10),
          (432, 10),
          (447, 10),
          (453, 10),
          (459, 10),
          (473, 10),
          (493, 10),
          (499, 10),
          (516, 10),
          (522, 10),
          (529, 10),
          (541, 10),
          (543, 10),
          (549, 10),
          (1, 11),
          (4, 11),
          (9, 11),
          (18, 11),
          (48, 11),
          (60, 11),
          (97, 11),
          (104, 11),
          (122, 11),
          (137, 11),
          (172, 11),
          (192, 11),
          (195, 11),
          (213, 11),
          (224, 11),
          (238, 11),
          (240, 11),
          (251, 11),
          (253, 11),
          (272, 11),
          (298, 11),
          (306, 11),
          (307, 11),
          (311, 11),
          (327, 11),
          (335, 11),
          (356, 11),
          (362, 11),
          (366, 11),
          (367, 11),
          (419, 11),
          (438, 11),
          (445, 11),
          (446, 11),
          (449, 11),
          (450, 11),
          (453, 11),
          (478, 11),
          (508, 11),
          (522, 11),
          (531, 11),
          (539, 11),
          (545, 11),
          (547, 11),
          (24, 12),
          (60, 12),
          (61, 12),
          (78, 12),
          (142, 12),
          (161, 12),
          (171, 12),
          (187, 12),
          (194, 12),
          (200, 12),
          (201, 12),
          (202, 12),
          (203, 12),
          (207, 12),
          (209, 12),
          (211, 12),
          (214, 12),
          (221, 12),
          (224, 12),
          (242, 12),
          (251, 12),
          (271, 12),
          (278, 12),
          (295, 12),
          (306, 12),
          (316, 12),
          (317, 12),
          (319, 12),
          (322, 12),
          (325, 12),
          (338, 12),
          (356, 12),
          (392, 12),
          (415, 12),
          (422, 12),
          (426, 12),
          (429, 12),
          (441, 12),
          (442, 12),
          (446, 12),
          (475, 12),
          (483, 12),
          (502, 12),
          (515, 12),
          (522, 12),
          (530, 12),
          (536, 12),
          (64, 13),
          (68, 13),
          (83, 13),
          (91, 13),
          (108, 13),
          (112, 13),
          (119, 13),
          (137, 13),
          (141, 13),
          (143, 13),
          (198, 13),
          (200, 13),
          (203, 13),
          (206, 13),
          (208, 13),
          (210, 13),
          (219, 13),
          (227, 13),
          (231, 13),
          (234, 13),
          (253, 13),
          (254, 13),
          (261, 13),
          (263, 13),
          (265, 13),
          (286, 13),
          (290, 13),
          (309, 13),
          (312, 13),
          (315, 13),
          (321, 13),
          (323, 13),
          (327, 13),
          (331, 13),
          (346, 13),
          (409, 13),
          (433, 13),
          (440, 13),
          (463, 13),
          (486, 13),
          (489, 13),
          (493, 13),
          (500, 13),
          (534, 13),
          (27, 14),
          (31, 14),
          (66, 14),
          (81, 14),
          (92, 14),
          (107, 14),
          (117, 14),
          (130, 14),
          (134, 14),
          (136, 14),
          (153, 14),
          (156, 14),
          (175, 14),
          (179, 14),
          (182, 14),
          (188, 14),
          (191, 14),
          (195, 14),
          (199, 14),
          (206, 14),
          (216, 14),
          (221, 14),
          (225, 14),
          (236, 14),
          (261, 14),
          (266, 14),
          (268, 14),
          (279, 14),
          (281, 14),
          (289, 14),
          (301, 14),
          (302, 14),
          (336, 14),
          (348, 14),
          (356, 14),
          (381, 14),
          (382, 14),
          (400, 14),
          (412, 14),
          (425, 14),
          (450, 14),
          (483, 14),
          (504, 14),
          (507, 14),
          (519, 14),
          (535, 14),
          (536, 14),
          (540, 14),
          (6, 15),
          (12, 15),
          (18, 15),
          (29, 15),
          (41, 15),
          (103, 15),
          (115, 15),
          (131, 15),
          (133, 15),
          (150, 15),
          (165, 15),
          (178, 15),
          (194, 15),
          (197, 15),
          (199, 15),
          (224, 15),
          (227, 15),
          (229, 15),
          (258, 15),
          (277, 15),
          (280, 15),
          (295, 15),
          (296, 15),
          (301, 15),
          (315, 15),
          (336, 15),
          (352, 15),
          (353, 15),
          (359, 15),
          (365, 15),
          (369, 15),
          (375, 15),
          (379, 15),
          (383, 15),
          (397, 15),
          (405, 15),
          (413, 15),
          (417, 15),
          (431, 15),
          (433, 15),
          (440, 15),
          (488, 15),
          (496, 15),
          (497, 15),
          (528, 15),
          (539, 15),
          (4, 16),
          (6, 16),
          (9, 16),
          (16, 16),
          (28, 16),
          (33, 16),
          (51, 16),
          (69, 16),
          (92, 16),
          (99, 16),
          (110, 16),
          (150, 16),
          (159, 16),
          (160, 16),
          (177, 16),
          (186, 16),
          (191, 16),
          (204, 16),
          (229, 16),
          (240, 16),
          (248, 16),
          (250, 16),
          (271, 16),
          (272, 16),
          (279, 16),
          (295, 16),
          (301, 16),
          (302, 16),
          (311, 16),
          (322, 16),
          (343, 16),
          (392, 16),
          (429, 16),
          (431, 16),
          (437, 16),
          (438, 16),
          (442, 16),
          (456, 16),
          (470, 16),
          (482, 16),
          (495, 16),
          (505, 16),
          (527, 16),
          (528, 16),
          (4, 17),
          (18, 17),
          (20, 17),
          (26, 17),
          (29, 17),
          (51, 17),
          (56, 17),
          (57, 17),
          (97, 17),
          (114, 17),
          (122, 17),
          (126, 17),
          (139, 17),
          (144, 17),
          (147, 17),
          (148, 17),
          (160, 17),
          (195, 17),
          (204, 17),
          (223, 17),
          (230, 17),
          (236, 17),
          (255, 17),
          (259, 17),
          (265, 17),
          (288, 17),
          (307, 17),
          (308, 17),
          (320, 17),
          (321, 17),
          (363, 17),
          (369, 17),
          (381, 17),
          (397, 17),
          (415, 17),
          (428, 17),
          (442, 17),
          (450, 17),
          (453, 17),
          (455, 17),
          (456, 17),
          (480, 17),
          (502, 17),
          (530, 17),
          (540, 17),
          (546, 17),
          (6, 18),
          (13, 18),
          (22, 18),
          (40, 18),
          (49, 18),
          (52, 18),
          (58, 18),
          (89, 18),
          (115, 18),
          (134, 18),
          (135, 18),
          (156, 18),
          (169, 18),
          (182, 18),
          (202, 18),
          (209, 18),
          (215, 18),
          (258, 18),
          (274, 18),
          (294, 18),
          (302, 18),
          (315, 18),
          (328, 18),
          (330, 18),
          (333, 18),
          (340, 18),
          (352, 18),
          (361, 18),
          (377, 18),
          (378, 18),
          (390, 18),
          (391, 18),
          (406, 18),
          (407, 18),
          (412, 18),
          (431, 18),
          (432, 18),
          (440, 18),
          (447, 18),
          (455, 18),
          (479, 18),
          (518, 18),
          (537, 18),
          (542, 18),
          (2, 19),
          (7, 19),
          (11, 19),
          (61, 19),
          (68, 19),
          (69, 19),
          (95, 19),
          (102, 19),
          (103, 19),
          (107, 19),
          (119, 19),
          (154, 19),
          (162, 19),
          (166, 19),
          (173, 19),
          (176, 19),
          (197, 19),
          (201, 19),
          (212, 19),
          (219, 19),
          (224, 19),
          (246, 19),
          (257, 19),
          (266, 19),
          (267, 19),
          (299, 19),
          (305, 19),
          (314, 19),
          (344, 19),
          (366, 19),
          (382, 19),
          (387, 19),
          (407, 19),
          (432, 19),
          (438, 19),
          (439, 19),
          (444, 19),
          (449, 19),
          (472, 19),
          (497, 19),
          (500, 19),
          (504, 19),
          (507, 19),
          (508, 19),
          (538, 19),
          (544, 19),
          (17, 20),
          (22, 20),
          (35, 20),
          (41, 20),
          (46, 20),
          (61, 20),
          (69, 20),
          (73, 20),
          (76, 20),
          (79, 20),
          (90, 20),
          (101, 20),
          (140, 20),
          (153, 20),
          (174, 20),
          (210, 20),
          (211, 20),
          (221, 20),
          (226, 20),
          (228, 20),
          (230, 20),
          (244, 20),
          (248, 20),
          (265, 20),
          (266, 20),
          (312, 20),
          (317, 20),
          (330, 20),
          (334, 20),
          (355, 20),
          (356, 20),
          (376, 20),
          (382, 20),
          (388, 20),
          (406, 20),
          (408, 20),
          (427, 20),
          (428, 20),
          (431, 20),
          (432, 20),
          (434, 20),
          (442, 20),
          (459, 20),
          (491, 20),
          (497, 20),
          (503, 20),
          (509, 20),
          (512, 20),
          (519, 20),
          (522, 20),
          (525, 20),
          (533, 20),
          (541, 20),
          (546, 20),
          (5, 21),
          (7, 21),
          (24, 21),
          (29, 21),
          (32, 21),
          (54, 21),
          (59, 21),
          (66, 21),
          (85, 21),
          (92, 21),
          (99, 21),
          (115, 21),
          (117, 21),
          (129, 21),
          (144, 21),
          (177, 21),
          (197, 21),
          (212, 21),
          (214, 21),
          (222, 21),
          (224, 21),
          (243, 21),
          (245, 21),
          (252, 21),
          (268, 21),
          (291, 21),
          (302, 21),
          (320, 21),
          (322, 21),
          (323, 21),
          (325, 21),
          (342, 21),
          (344, 21),
          (345, 21),
          (354, 21),
          (355, 21),
          (358, 21),
          (371, 21),
          (375, 21),
          (383, 21),
          (386, 21),
          (418, 21),
          (422, 21),
          (425, 21),
          (431, 21),
          (435, 21),
          (439, 21),
          (467, 21),
          (470, 21),
          (478, 21),
          (491, 21),
          (522, 21),
          (531, 21),
          (536, 21),
          (538, 21),
          (549, 21);");*/

/* ------------------- CHAT ------------------- */

$DB->exec("CREATE TABLE IF NOT EXISTS `chat`
          (`id_message` int(11) NOT NULL AUTO_INCREMENT,
           `id_user_1` int(11) NOT NULL,
           `id_user_2` int(11) NOT NULL,
           `message` text NOT NULL,
           `message_date` datetime NOT NULL,
           PRIMARY KEY (`id_message`),
           CONSTRAINT `FK_chat_id_user_1` FOREIGN KEY (`id_user_1`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE,
           CONSTRAINT `FK_chat_id_user_2` FOREIGN KEY (`id_user_2`) REFERENCES `users`(`id_user`) ON DELETE CASCADE ON UPDATE CASCADE
          ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;");

//$DB->exec("");

$_SESSION['is_setup'] = TRUE;
header('Location: http://localhost:8081/gitmatcha/');
?>
